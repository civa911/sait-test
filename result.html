<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Результат - Тест</title>
    <link rel="stylesheet" href="./fonts/fonts.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="containers-intro">
    <div class="containers-result">
        <p id="resultText"></p>
        <div class="resultImage" id="resultMedia"></div>
    </div>

    <script>
          const name = localStorage.getItem('name');
        const answers = JSON.parse(localStorage.getItem('answers'));

        const jpgImages = {
            photo1: 'img-result/photo1.jpg',
            photo2: 'img-result/photo2.jpg',
            photo3: 'img-result/photo3.mp4',
            photo4: 'img-result/photo4.mp4'
        };

        const mp4Videos = {
            video1: 'img-result/to/video1.mp4',
            video2: 'img-result/to/video2.mp4',
            video3: 'img-result/to/photo3.mp4',
            video4: 'img-result/to/photo4.mp4'
        };

        function calculateResult(answers) {
            // Простой пример логики подсчета результата
            const score = answers.reduce((total, answer) => total + parseInt(answer), 0);
            if (score <= 10) return "photo1";
            if (score <= 20) return "photo2";
            if (score <= 30) return "photo3";
            if (score <= 40) return "photo4";
            return null;
        }

        const result = calculateResult(answers);
        document.getElementById('resultText').textContent = `${name}, ваш результат: `;

        if (result) {
            
            const mediaElement = document.getElementById('resultMedia');
            if (result === "photo4") {  // Условие для показа видео
                mediaElement.innerHTML = `<video controls width="300">
                    <source src="${mp4Videos['video4']}" type="video/mp4">
                    Ваш браузер не поддерживает видео.
                </video>`;
            } else {
                mediaElement.innerHTML = `<img src="${jpgImages[result]}" alt="результат">`;
            }

        } else {
            document.getElementById('resultText').textContent += "Вам нужно стараться больше!";
        }
    </script>
    
</body>
</html>
